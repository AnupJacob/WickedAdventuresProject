CREATE OR ALTER   PROCEDURE [dbo].[WICKEDLOGIN]
@IUSER VARCHAR(50),
@IPASS VARCHAR(50),
@OSTATUS INT

AS
/*
Author: Anup Jacob
Change Date: 19/01/2021
Version: 1
Description: Procedure to verfiy if the login username and password exists in the WickedAdventure Database or not
*/

BEGIN

DECLARE @CUSTFLAG INT = NULL;

/*
PRINT @IUSER
PRINT @IPASS
*/

	SET @CUSTFLAG = (SELECT 
		CUSTOMER_ID
	FROM 
		T_WACUSTOMERDETAILS 
	WHERE 
		EMAIL_ID = @IUSER AND
		PASSWD = @IPASS);

		/*
PRINT @CUSTFLAG;
*/

IF @CUSTFLAG IS NOT NULL
BEGIN
	SET @OSTATUS = 1;
	PRINT 'SUCCESS. THE ACCOUNT COMBINATION EXISTS';
	END;
ELSE
BEGIN
	SET @OSTATUS = 0
	PRINT 'FAILURE. THE ACCOUNT COMBINATION DOES NOT EXISTS';
	END;

PRINT @OSTATUS;

END